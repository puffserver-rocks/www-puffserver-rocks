<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="assets/css/main.css">

  <!-- Shoelace (copy button) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.20.1/cdn/themes/light.css" />
  <script type="module" src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.20.1/cdn/shoelace-autoloader.js"></script>

  <!-- jQuery (matches surf-index.html) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

  <!-- Fonts (matches surf-index.html) -->
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Fira+Code:wght@300;400;500&display=swap" rel="stylesheet">

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PUFF PUFF</title>
  <link rel="icon" href="https://puffserver.rocks/images/favicon.png" type="image/x-icon" />

  <!-- Same randomized background-video behavior as surf-index.html -->
  <script>
    $(document).ready(function () {
      const videos = [
        "images/comp_2.mp4"
      ];

      function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
      }

      const shuffledVideos = shuffle([...videos]);
      const videoEl = document.getElementById("bg-video");
      const sourceEl = document.getElementById("bg-source");

      let currentIndex = Math.floor(Math.random() * shuffledVideos.length);

      function playNextVideo() {
        sourceEl.src = shuffledVideos[currentIndex];
        videoEl.load();
        videoEl.play().catch(() => {});
        currentIndex = (currentIndex + 1) % shuffledVideos.length;
      }

      videoEl.addEventListener("ended", playNextVideo);
      playNextVideo();
    });
  </script>
  
   <!-- Primary Meta Tags -->
<title>PUFF PUFF</title>
<meta name="title" content="PUFF PUFF" />
<meta name="description" content="Counter-Strike Community with CS:GO and CS2 Servers." />

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website" />
<meta property="og:url" content="https://puffserver.rocks/" />
<meta property="og:title" content="PUFF PUFF" />
<meta property="og:description" content="Counter-Strike Community with CS:GO and CS2 Servers." />
<meta property="og:image" content="/images/puff-meta.png" />

<!-- X (Twitter) -->
<meta property="twitter:card" content="summary_large_image" />
<meta property="twitter:url" content="https://puffserver.rocks/" />
<meta property="twitter:title" content="PUFF PUFF" />
<meta property="twitter:description" content="Counter-Strike Community with CS:GO and CS2 Servers." />
<meta property="twitter:image" content="/images/puff-meta.png" />

</head>

<body>
<!-- NAV -->
 <nav class="corner-nav" aria-label="Site">
  <button class="corner-nav__btn" type="button" aria-expanded="false" aria-controls="cornerNavMenu">
    <span class="corner-nav__icon" aria-hidden="true"></span>
    <span class="sr-only">Open menu</span>
  </button>

  <div class="corner-nav__menu" id="cornerNavMenu" hidden>
    <a href="#top">Home</a>
    <a href="#connect-csgo">Connect CS:GO</a>
	<a href="#connect-cs2">Connect CS2</a>
	<a href="#rules">Rules</a>
	<a href="#About">About</a>
    <a href="#discord">Discord</a>
  </div>
</nav>
<script>
document.addEventListener("DOMContentLoaded", () => {
  const nav = document.querySelector(".corner-nav");
  if (!nav) return;

  const btn = nav.querySelector(".corner-nav__btn");
  const menu = nav.querySelector(".corner-nav__menu");
  if (!btn || !menu) return;

  const openMenu = () => {
    nav.classList.add("is-open");
    menu.hidden = false;
    btn.setAttribute("aria-expanded", "true");
  };

  const closeMenu = () => {
    nav.classList.remove("is-open");
    btn.setAttribute("aria-expanded", "false");
    setTimeout(() => (menu.hidden = true), 160);
  };

  btn.addEventListener("click", (e) => {
    e.stopPropagation();
    nav.classList.contains("is-open") ? closeMenu() : openMenu();
  });

  menu.addEventListener("click", (e) => e.stopPropagation());

  document.addEventListener("click", () => {
    if (nav.classList.contains("is-open")) closeMenu();
  });

  document.addEventListener("keydown", (e) => {
    if (e.key === "Escape" && nav.classList.contains("is-open")) closeMenu();
  });
});
</script>


  <!-- Background video -->
	<video autoplay muted playsinline loop id="bg-video">
  <source id="bg-source" type="video/mp4" />
  Your browser does not support the video tag.
</video>



  <main class="page">
    <div class="stack">

      <!-- HERO -->
      <section class="panel" id="top">
        <center>
          
            <img src="https://puffserver.rocks/images/PUFF_PUFF-logo.png" style="width: 90px; padding: 6px;">
                    <p style="color: white; font-family: 'Fira Code', monospace;">
            Welcome to PUFF: Check out our casual and movement servers.
          </p>
        </center>
      </section>
	  <section class="panel marquee-section">
      <div class="marquee">
        <div class="marquee__track" id="server-marquee">

      <ul class="marquee__content">
        <li data-server="cs2">
          PUFF CASUAL SERVER IS <b class="status">CHECKING</b>
        <a href="steam://connect/216.128.144.149:27015" class="connect-btn is-offline" data-server="cs2">CONNECT</a>

        </li>
        <li data-server="surf">
        PUFF SURF SERVER IS <b class="status">CHECKING </b>
        <a href="steam://connect/14.1.30.195:27015" class="connect-btn is-offline" data-server="surf">CONNECT</a>
        </li>

        <li data-server="scouts">
          PUFF SCOUTS & KNIVES SERVER IS <b class="status">CHECKING</b>
           <a href="steam://connect/14.1.30.196:27015" class="connect-btn is-offline" data-server="scouts">CONNECT</a>
        </li>
      </ul>

       </div>
          </div>
        </section>  

      <!-- CONNECT CS:GO -->
      <section class="panel" id="connect-csgo">
        <center>
          <h1>CONNECT CS:GO</h1>
          <p class="hint">Open up CS:GO before cicking connect</p>

          <div class="code">
            connect csgo.surf
            <sl-copy-button value="connect csgo.surf"></sl-copy-button>
          </div>
          <div class="code-buttons">
          <!-- CONNECT button -->
          <a href="steam://connect/14.1.30.195:27015" class="button">
          <span class="button-top">CONNECT</span>
          <span class="button-bottom"></span>
          <span class="button-base"></span>
          </a>
          </div>

          <div class="divider">
            <img src="https://puffserver.rocks/images/PUFF_PUFF-logo.png" style="width: 45px">
          </div>

          <div class="list">
            <div class="list-title">How to connect to CS:GO community servers</div>
            <ul>
              <li>Right-click CS2 in Steam → <b>Properties</b></li>
              <li>Under <b>Betas</b> → select <b>csgo_legacy</b></li>
              <li>Wait for the legacy client to download</li>
              <li>Launch CS and pick the legacy version</li>
              <li>Open console and paste one of the <b>connect</b> commands above</li>
            </ul>
          </div>
        </center>
      </section>



<!-- CONNECT CS2 -->
      <section class="panel" id="connect-cs2">
        <center>
          <h1>CONNECT CS2</h1>
          <p class="hint">Open up CS2 before cicking connect</p>
          <div class="code">
            connect cs2.puff.ac
            <sl-copy-button value="connect connect cs2.puff.ac"></sl-copy-button>
          </div>
          <div class="code-buttons">
          <!-- CONNECT button -->
          <a href="steam://connect/216.128.144.149:27015" class="button">
          <span class="button-top">CONNECT</span>
          <span class="button-bottom"></span>
          <span class="button-base"></span>
          </a>
          </div>

            <div class="code">
            connect scoutsknives.club
            <sl-copy-button value="connect scoutsknives.club"></sl-copy-button>
          </div>
          <div class="code-buttons">
          <!-- CONNECT button -->
          <a href="steam://connect/14.1.30.196:27015" class="button">
          <span class="button-top">CONNECT</span>
          <span class="button-bottom"></span>
          <span class="button-base"></span>
          </a>
          </div>


          <div class="divider">
            <img src="https://puffserver.rocks/images/PUFF_PUFF-logo.png" style="width: 45px">
          </div>

		  <p class="panel-text">
            Check out our friends from <a href="https://onlyzaps.gg" target="_blank" ><b>OnlyZaps.gg</b></a>
          </p>

		  <div class="code">
            connect onlyzaps.gg
            <sl-copy-button value="connect onlyzaps.gg"></sl-copy-button>
          </div>
          <div class="code-buttons">
          <!-- CONNECT button -->
          <a href="steam://connect/135.148.136.190:27015" class="button">
          <span class="button-top">CONNECT</span>
          <span class="button-bottom"></span>
          <span class="button-base"></span>
          </a>
          </div>

        </center>
      </section>


      <section class="panel link-gifs">
  <a
    href="https://scoutsknives.club"
    target="_blank"
    rel="noopener noreferrer"
    class="gif-link"
  >
    <img src="images/scoutsknives-dither.gif" alt="Scout's Knives" />
  </a>

  <a
    href="https://csgo.surf"
    target="_blank"
    rel="noopener noreferrer"
    class="gif-link"
  >
    <img src="images/csgodotsurf-dither.gif" alt="CSGO.Surf" />
  </a>
</section>
      <!-- RULES -->
      <section class="panel" id="rules">
        <center>
          <h1>RULES</h1>

          <div class="list">
            <div class="list-title">Join us if</div>
            <ul>
              <li>You want to have fun</li>
              <li>You’re okay with silly conversations</li>
              <li>You’re okay getting cussed at when you destroy someone</li>
              <li>You’re okay sometimes getting destroyed (rage quit is allowed)</li>
            </ul>
          </div>

          <div class="list">
            <div class="list-title">We’ll boot you if</div>
            <ul>
              <li>You cheat</li>
              <li>You’re out to make people feel bad</li>
              <li>You harp on sticky subjects like politics</li>
              <li>You spam chat/mic/radio</li>
              <li>You use non-inclusive language</li>
              <li>You make others feel unwelcome</li>
              <li>You ignore admin requests</li>
              <li>You keep doing something after being asked to stop</li>
            </ul>
          </div>
        </center>
      </section>

      <!-- ABOUT -->
		<section class="panel about about-right" id="About">
	        <center>
          <h1>ABOUT</h1>

            <p class="panel-text">
    		We’re proud to be an open community welcoming folks no matter who they are or which button
    		they use as push-to-talk (provided nobody eats their popcorn with a spoon).
    		If you’re ever in doubt, skip the topic/comment.
    		Admins may step in to keep things friendly, civil, and welcoming. Please trust their judgment.
  			</p>

          <div class="divider">
            <img src="https://puffserver.rocks/images/PUFF_PUFF-logo.png" style="width: 45px">
          </div>

          <p class="panel-text" style="max-width: 72ch;">
            If you see activity that breaks the rules, let an admin know.
            If you’re asked to move on, don’t panic... just follow guidance.
            Your participation makes PUFF what it is. We’re glad you’re here!
          </p>
        </center>
      </section>

      <!-- DISCORD -->
      <section class="panel" id="discord">
        <center>
          <h1>DISCORD</h1>
          <iframe
            src="https://discord.com/widget?id=850819036790521886&theme=dark"
            width="100%"
            height="420"
            allowtransparency="true"
            frameborder="0"
            sandbox="allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"
            style="max-width: 720px; border: 1px solid white;"
          ></iframe>
        </center>
      </section>

      <!-- FOOTER -->
      <footer class="panel footer">
        <center>
          <p class="panel-text">© 2026 PUFF SERVER — All rights reserved.</p>
          <p class="panel-text">
            <a class="footer-link" href="#connect">Connect</a> ·
            <a class="footer-link" href="#rules">Rules</a> ·
            <a class="footer-link" href="#About">About</a> ·
            <a class="footer-link" href="#discord">Discord</a>
          </p>
        </center>
      </footer>

    </div>
  </main>


  <!-- JS -->
<!-- MARQUEE SCROLL -->
<script>
document.addEventListener("DOMContentLoaded", async () => {
  const track = document.getElementById("server-marquee");
  if (!track) return;

  const list = track.querySelector(".marquee__content");
  if (!list) return;

  track.querySelectorAll(".marquee__content[aria-hidden='true']").forEach(n => n.remove());

  const clone = list.cloneNode(true);
  clone.setAttribute("aria-hidden", "true");
  track.appendChild(clone);

  if (document.fonts && document.fonts.ready) {
    try { await document.fonts.ready; } catch {}
  }

  let anim;

  const start = () => {
    if (anim) anim.cancel();

    const w = list.getBoundingClientRect().width;
    if (!w) return;

    const pxPerSecond = 90;
    const duration = (w / pxPerSecond) * 1000;

    anim = track.animate(
      [
        { transform: "translate3d(0,0,0)" },
        { transform: `translate3d(${-w}px,0,0)` }
      ],
      {
        duration,
        iterations: Infinity,
        easing: "linear"
      }
    );

    // default speed
    anim.playbackRate = 1;
  };

  start();

  // ✅ Slow down on hover
  track.addEventListener("mouseenter", () => {
    if (anim) anim.playbackRate = 0.35; // 35% speed
  });

  track.addEventListener("mouseleave", () => {
    if (anim) anim.playbackRate = 1;    // normal speed
  });

  // Recompute on resize (debounced)
  let t;
  window.addEventListener("resize", () => {
    clearTimeout(t);
    t = setTimeout(start, 150);
  });
});
</script>



  <script>
document.addEventListener("DOMContentLoaded", async () => {
  const STATUS_ENDPOINT = "/api/server-status.json";

  let statusData = {};
  try {
    const res = await fetch(STATUS_ENDPOINT, { cache: "no-store" });
    if (!res.ok) throw new Error("Bad response");
    statusData = await res.json();
  } catch (err) {
    console.warn("Server status unavailable, defaulting OFFLINE");
  }

  // Helper: toggle ALL matching buttons (original + clone)
  function setServerStatus(serverKey, isOnline, address) {
    document.querySelectorAll(`.connect-btn[data-server="${serverKey}"]`).forEach(btn => {
      if (isOnline) {
        btn.classList.add("is-online");
        btn.classList.remove("is-offline");
        btn.href = `steam://connect/${address}`;
      } else {
        btn.classList.add("is-offline");
        btn.classList.remove("is-online");
        btn.removeAttribute("href");
      }
    });
  }

  // Only target the marquee <li> rows (NOT every [data-server] element)
  const rows = document.querySelectorAll(".marquee__content > li[data-server]");

  rows.forEach(li => {
    const key = li.dataset.server;
    const statusEl = li.querySelector(".status");
    if (!statusEl) return;

    const isOnline = statusData[key] === true;

    statusEl.textContent = isOnline ? "ONLINE" : "OFFLINE";
    statusEl.classList.toggle("online", isOnline);
    statusEl.classList.toggle("offline", !isOnline);
    statusEl.classList.remove("checking");

    // Grab the server IP/port from the button that already exists in the markup
    const btn = li.querySelector(`.connect-btn[data-server="${key}"]`);
    const address = btn?.getAttribute("href")?.replace("steam://connect/", "") || "";

    // ✅ NOW we actually toggle the button state
    setServerStatus(key, isOnline, address);
  });

  // Keep the cloned list in sync AFTER updating statuses/buttons
  const track = document.getElementById("server-marquee");
  const lists = track?.querySelectorAll(".marquee__content");
  if (lists && lists.length === 2) {
    lists[1].innerHTML = lists[0].innerHTML;
  }
});
</script>

</body>
</html>
